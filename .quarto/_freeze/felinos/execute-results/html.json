{
  "hash": "8f17e53be195ca6c653fa32048eb84fb",
  "result": {
    "markdown": "---\ntitle: \"Felinos de Costa Rica\"\nformat: \n  html:\n    theme: cosmo\n    page-layout: custom\nserver: shiny\n---\n\n::: {.cell context='setup'}\n\n:::\n\n::: {.cell context='data'}\n\n:::\n\n::: {.cell .panel-sidebar}\n::: {.cell-output-display}\n```{=html}\n<div class=\"form-group shiny-input-container\">\n<label class=\"control-label\" id=\"especie-label\" for=\"especie\">Especie</label>\n<div>\n<select id=\"especie\"><option value=\"Todas\" selected>Todas</option>\n<option value=\"Leopardus pardalis\">Leopardus pardalis</option>\n<option value=\"Leopardus tigrinus\">Leopardus tigrinus</option>\n<option value=\"Leopardus wiedii\">Leopardus wiedii</option>\n<option value=\"Panthera onca\">Panthera onca</option>\n<option value=\"Puma concolor\">Puma concolor</option>\n<option value=\"Puma yagouaroundi\">Puma yagouaroundi</option></select>\n<script type=\"application/json\" data-for=\"especie\" data-nonempty=\"\">{\"plugins\":[\"selectize-plugin-a11y\"]}</script>\n</div>\n</div>\n```\n:::\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"form-group shiny-input-container\">\n<label class=\"control-label\" id=\"anio-label\" for=\"anio\">Año</label>\n<div>\n<select id=\"anio\"><option value=\"Todos\" selected>Todos</option>\n<option value=\"\"></option>\n<option value=\"1839\">1839</option>\n<option value=\"1928\">1928</option>\n<option value=\"1931\">1931</option>\n<option value=\"1932\">1932</option>\n<option value=\"1933\">1933</option>\n<option value=\"1939\">1939</option>\n<option value=\"1954\">1954</option>\n<option value=\"1958\">1958</option>\n<option value=\"1963\">1963</option>\n<option value=\"1964\">1964</option>\n<option value=\"1965\">1965</option>\n<option value=\"1967\">1967</option>\n<option value=\"1970\">1970</option>\n<option value=\"1993\">1993</option>\n<option value=\"2002\">2002</option>\n<option value=\"2005\">2005</option>\n<option value=\"2007\">2007</option>\n<option value=\"2008\">2008</option>\n<option value=\"2009\">2009</option>\n<option value=\"2010\">2010</option>\n<option value=\"2011\">2011</option>\n<option value=\"2012\">2012</option>\n<option value=\"2013\">2013</option>\n<option value=\"2014\">2014</option>\n<option value=\"2015\">2015</option>\n<option value=\"2016\">2016</option>\n<option value=\"2017\">2017</option>\n<option value=\"2018\">2018</option>\n<option value=\"2019\">2019</option>\n<option value=\"2020\">2020</option>\n<option value=\"2021\">2021</option>\n<option value=\"2022\">2022</option></select>\n<script type=\"application/json\" data-for=\"anio\">{\"plugins\":[\"selectize-plugin-a11y\"]}</script>\n</div>\n</div>\n```\n:::\n:::\n\n::: {.cell .panel-fill}\n::: {.cell-output-display}\n```{=html}\n<div id=\"tabla\" style=\"width:100%; height:auto; \" class=\"datatables html-widget html-widget-output\"></div>\n```\n:::\n:::\n\n::: {.cell context='server'}\n\n:::\npreserve40ad324350235715\npreserved24ab01f90a3d719\npreserve69ad824cf6592ad2\npreserve8d2c0851da734b91\n\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"dependencies\">\n{\"type\":\"list\",\"attributes\":{},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"selectize\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.12.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www/shared/selectize\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"js/selectize.min.js\",\"accessibility/js/selectize-plugin-a11y.min.js\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"css/selectize.bootstrap3.css\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"shiny\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.7.3\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"selectize\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.12.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www/shared/selectize\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"js/selectize.min.js\",\"accessibility/js/selectize-plugin-a11y.min.js\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"css/selectize.bootstrap3.css\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"shiny\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.7.3\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.5.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.5.4\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"datatables-css\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.0.0\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets/css\"]}]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"datatables-crosstalk.css\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"DT\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.26\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"datatables-binding\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.26\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"datatables.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"DT\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.26\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"jquery\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"3.5.1\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"lib/jquery\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"jquery.min.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"crosstalk\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.2.0\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"crosstalk\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.2.0\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"js/crosstalk.min.js\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"css/crosstalk.min.css\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"crosstalk\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.2.0\"]}]}]}\n</script>\n<!--/html_preserve-->\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"execution_dependencies\">\n{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\"]}},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\",\"version\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"data.frame\"]},\"row.names\":{\"type\":\"integer\",\"attributes\":{},\"value\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"base\",\"bslib\",\"cachem\",\"class\",\"classInt\",\"cli\",\"compiler\",\"crosstalk\",\"datasets\",\"DBI\",\"digest\",\"dplyr\",\"DT\",\"e1071\",\"ellipsis\",\"evaluate\",\"fansi\",\"fastmap\",\"generics\",\"glue\",\"graphics\",\"grDevices\",\"grid\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"jquerylib\",\"jsonlite\",\"KernSmooth\",\"knitr\",\"later\",\"lifecycle\",\"magrittr\",\"memoise\",\"methods\",\"mime\",\"pillar\",\"pkgconfig\",\"promises\",\"proxy\",\"R6\",\"Rcpp\",\"rlang\",\"rmarkdown\",\"rstudioapi\",\"sass\",\"sf\",\"shiny\",\"stats\",\"stringi\",\"stringr\",\"tibble\",\"tidyselect\",\"tools\",\"units\",\"utf8\",\"utils\",\"vctrs\",\"xfun\",\"xtable\",\"yaml\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.2.1\",\"0.4.1\",\"1.0.6\",\"7.3-20\",\"0.4-8\",\"3.4.1\",\"4.2.1\",\"1.2.0\",\"4.2.1\",\"1.1.3\",\"0.6.30\",\"1.0.10\",\"0.26\",\"1.7-12\",\"0.3.2\",\"0.18\",\"1.0.3\",\"1.1.0\",\"0.1.3\",\"1.6.2\",\"4.2.1\",\"4.2.1\",\"4.2.1\",\"0.5.3\",\"1.5.4\",\"1.6.6\",\"0.1.4\",\"1.8.3\",\"2.23-20\",\"1.41\",\"1.3.0\",\"1.0.3\",\"2.0.3\",\"2.0.1\",\"4.2.1\",\"0.12\",\"1.8.1\",\"2.0.3\",\"1.2.0.1\",\"0.4-27\",\"2.5.1\",\"1.0.9\",\"1.0.6\",\"2.18\",\"0.14\",\"0.4.4\",\"1.0-9\",\"1.7.3\",\"4.2.1\",\"1.7.8\",\"1.5.0\",\"3.1.8\",\"1.2.0\",\"4.2.1\",\"0.8-0\",\"1.2.2\",\"4.2.1\",\"0.5.1\",\"0.35\",\"1.8-4\",\"2.3.6\"]}]}]}\n</script>\n<!--/html_preserve-->",
    "supporting": [
      "felinos_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {
      "preserve40ad324350235715": "\n<script type=\"application/shiny-prerendered\" data-context=\"server-start\">\n\n# Bloque para operaciones iniciales\nlibrary(dplyr)\nlibrary(DT)\nlibrary(sf)\nlibrary(shiny)\n</script>\n",
      "preserve69ad824cf6592ad2": "\n<script type=\"application/shiny-prerendered\" data-context=\"server\">\n# Operaciones en el servidor\n# Función reactiva para filtrar los registros con base en los controles de entrada\nfiltrarRegistros <- reactive({\n  # Valor inicial del objeto que va a retornarse\n  registros_filtrados <- registros\n  \n  if (input$especie != \"Todas\") {\n    registros_filtrados <-\n      registros_filtrados |>\n      filter(species == input$especie)\n  }\n  \n  if (input$anio != \"Todos\") {\n    registros_filtrados <-\n      registros_filtrados |>\n      filter(year == input$anio)\n  }  \n  \n  return(registros_filtrados)\n})  \n  \n# Tabla con registros de presencia\noutput$tabla <- renderDataTable({\n  registros <- filtrarRegistros()\n  \n  registros |>\n    st_drop_geometry() |>\n    select(species, stateProvince, locality, eventDate) |>\n    datatable(\n      colnames = c(\"Especie\", \"Provincia\", \"Localidad\", \"Fecha\"),\n      options = list(\n        pageLength = 5,\n        language = list(url = '//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json')\n      )\n    )\n})\n</script>\n",
      "preserve8d2c0851da734b91": "\n<script type=\"application/shiny-prerendered\" data-context=\"server-extras\">\nojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {\n  quos <- rlang::enquos(...)\n  vars <- rlang::list2(...)\n  nm <- names(vars)\n  if (is.null(nm)) {\n    nm <- rep_len(\"\", length(vars))\n  }\n  mapply(function(q, nm, val) {\n    # Infer name, if possible\n    if (nm == \"\") {\n      tryCatch({\n        nm <- rlang::as_name(q)\n      }, error = function(e) {\n        code <- paste(collapse = \"\\n\", deparse(rlang::f_rhs(q)))\n        stop(\"ojs_define() could not create a name for the argument: \", code)\n      })\n    }\n    .session$output[[nm]] <- val\n    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)\n    .session$sendCustomMessage(\"ojs-export\", list(name = nm))\n    NULL\n  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)\n  invisible()\n}\n</script>\n",
      "preserved24ab01f90a3d719": "\n<script type=\"application/shiny-prerendered\" data-context=\"data\">\n# Bloque para lectura de datos y compartirlos\n# en todos los bloques de código\n# Archivo DwC con registros de presencia\narchivo_dwc <- \"datos/felinos.csv\"\n# Lectura del archivo DwC\nregistros <-\n  st_read(\n    archivo_dwc,\n    options = c(\n      \"X_POSSIBLE_NAMES=decimalLongitude\", # columna de longitud decimal\n      \"Y_POSSIBLE_NAMES=decimalLatitude\"   # columna de latitud decimal\n    ),\n    quiet = TRUE\n  )\n</script>\n"
    },
    "postProcess": true
  }
}